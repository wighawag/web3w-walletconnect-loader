var __awaiter=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function s(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((o=o.apply(e,t||[])).next())})};define("index",["require","exports","named-logs"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletConnectModuleLoader=void 0;const o=n.logs("web3w-walletconnect:index");let r;const i={1:{host:"mainnet",networkName:"Main Ethereum Network"},3:{host:"ropsten",networkName:"Ropsten Test Network"},4:{host:"rinkeby",networkName:"Rinkeby Test Network"},5:{host:"goerli",networkName:"Goerli Test Network"},42:{host:"kovan",networkName:"Kovan Test Network"}};class a{constructor(e){this.id="walletconnect",this.infuraId=e&&e.infuraId,this.fallbackUrl=e&&e.fallbackUrl,this.chainId=e&&e.chainId}setup(e){return __awaiter(this,void 0,void 0,function*(){e=e||{};let{chainId:t,fallbackUrl:n}=e;if(t=t||this.chainId,(n=n||this.fallbackUrl)&&!t){o.log("no chanId provided but fallbackUrl, fetching chainId...");const e=yield fetch(n,{headers:{"content-type":"application/json; charset=UTF-8"},body:JSON.stringify({id:Math.floor(1e6*Math.random()),jsonrpc:"2.0",method:"eth_chainId",params:[]}),method:"POST"}),r=yield e.json();t=parseInt(r.result.slice(2),16).toString(),o.log({chainId:t})}if(!t)throw new Error("chainId missing");const a=parseInt(t),s=i[t];let l;return this.infuraId&&s?(o.log(`known network, using infuraId: ${this.infuraId}`),l={infuraId:this.infuraId}):(o.log(`unknown network, using fallbackUrl: ${n}`),l={rpc:{[a]:n}}),this.walletConnectProvider=new r(l),yield this.walletConnectProvider.enable(),window.walletConnectProvider=this.walletConnectProvider,{web3Provider:this.walletConnectProvider,chainId:t}})}logout(){return Promise.resolve()}disconnect(){this.walletConnectProvider.close(),this.walletConnectProvider=void 0,window.walletConnectProvider=void 0}isLoggedIn(){return __awaiter(this,void 0,void 0,function*(){return!0})}}class s{constructor(e){this.id="walletconnect",this.moduleConfig=e}static setJsURL(e,t){if(s._jsURLUsed)throw new Error("cannot change js url once used");s._jsURL=e,s._jsURLIntegrity=t}load(){return __awaiter(this,void 0,void 0,function*(){if(!r){const e=s._jsURL,t=s._jsURLIntegrity;s._jsURLUsed=!0;try{o.log(`loading ${e}...`),yield function(e,t,n){return new Promise(function(o,r){const i=document.createElement("script");i.type="text/javascript",i.src=e,t&&(i.integrity=t),n&&(i.crossOrigin=n),i.onload=i.onreadystatechange=function(){o()},i.onerror=function(){r()},document.head.appendChild(i)})}(e,t,"anonymous")}catch(e){throw o.error("error loading",e),s._jsURLUsed=!1,e}r=window.WalletConnectProvider.default,o.log("WalletConnectProvider Module",window.WalletConnectProvider)}return new a(this.moduleConfig)})}}t.WalletConnectModuleLoader=s,s._jsURL="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.2.2/dist/umd/index.min.js",s._jsURLUsed=!1});